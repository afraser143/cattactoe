<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Cat Tic Tac Toe ðŸ˜¸</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@500&display=swap" rel="stylesheet">
  <style>
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      background: radial-gradient(circle at 80% 60%, #fcdff6 20%, #c6d8fb 100%);
      font-family: 'Fredoka', 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
    }
    h1 {
      margin-top: 32px; margin-bottom: 12px;
      font-family: 'Fredoka', Arial, sans-serif;
      font-weight: 600; font-size: 2.7em;
      letter-spacing: 1.5px;
      background: -webkit-linear-gradient(45deg, #c368f7, #2fd5c7 60%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    #game-container {
      background: rgba(255,255,255, 0.85);
      box-shadow: 0 6px 40px #b8b0ff3e;
      border-radius: 24px;
      padding: 36px 30px 24px 30px;
      margin-top: 18px;
      margin-bottom: 30px;
      display: flex; flex-direction: column; align-items: center;
    }
    #status {
      min-height: 38px;
      font-size: 1.27em;
      margin: 0 0 18px 0;
      color: #7b459a;
      letter-spacing: 1.2px;
      text-shadow: 0 2px 10px #c6b1e568;
      text-align: center;
    }
    #board {
      display: grid;
      grid-template-columns: repeat(3, 80px);
      gap: 16px;
      margin-bottom: 18px;
      user-select: none;
    }
    .cell {
      width: 80px;
      height: 80px;
      font-size: 2.5em;
      background: rgba(245, 238, 253, 0.80);
      border-radius: 20px;
      box-shadow: 0 2px 12px #dad3ec3a;
      border: none;
      transition: background 0.18s, transform 0.16s;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
      outline: none;
    }
    .cell:hover, .cell:focus {
      background: #f4c6f93b;
      transform: scale(1.06);
      z-index: 10;
    }
    .cell.win {
      background: #ffe3fb;
      box-shadow: 0 0 16px #d27fd9bb;
      animation: blink-win 0.85s infinite alternate;
    }
    @keyframes blink-win {
      0%   { background: #fffde7; }
      100% { background: #ffe3fb; }
    }
    #reset-btn {
      margin-top: 7px;
      padding: 9px 36px;
      border-radius: 30px;
      font-size: 1.18em;
      background: linear-gradient(90deg, #8ce6f9 40%, #d497fc 100%);
      color: #743891;
      border: none;
      font-family: inherit;
      font-weight: 600;
      letter-spacing: 1px;
      box-shadow: 0 4px 18px #c8b3f47c;
      cursor: pointer;
      transition: background 0.15s;
    }
    #reset-btn:hover {
      background: linear-gradient(90deg, #d4b8fc 10%, #7ee3f9 90%);
      color: #463769;
    }
    #credits {
      margin-top: 16px;
      color: #b5a8bd;
      font-size: 0.97em;
      font-style: italic;
      letter-spacing: 1px;
      text-align: center;
      margin-bottom: 18px;
    }
    @media (max-width:530px) {
      #game-container {padding:10vw 2vw 5vw 2vw}
      #board {gap:4vw;}
      .cell {width:16vw;height:16vw;font-size:8vw;}
      #reset-btn{font-size:1em;}
    }
  </style>
</head>
<body>
  <h1>Cat Tic Tac Toe</h1>
  <div id="game-container">
    <div id="status">ðŸ˜º Cat X goes first!</div>
    <div id="board">
      <button class="cell" data-index="0" aria-label="cell 1"></button>
      <button class="cell" data-index="1" aria-label="cell 2"></button>
      <button class="cell" data-index="2" aria-label="cell 3"></button>
      <button class="cell" data-index="3" aria-label="cell 4"></button>
      <button class="cell" data-index="4" aria-label="cell 5"></button>
      <button class="cell" data-index="5" aria-label="cell 6"></button>
      <button class="cell" data-index="6" aria-label="cell 7"></button>
      <button class="cell" data-index="7" aria-label="cell 8"></button>
      <button class="cell" data-index="8" aria-label="cell 9"></button>
    </div>
    <button id="reset-btn">ðŸ˜¼ Play Again</button>
  </div>
  <div id="credits">
    Cat game with free cat sounds from <a href="https://pixabay.com/sound-effects/search/cat/" target="_blank">Pixabay</a>. Puns and paws by Goose!
  </div>
  <!-- Sound Effects (all from Pixabay free use) -->
  <audio id="meow-x" src="https://cdn.pixabay.com/audio/2022/07/26/audio_12b4cf34bc.mp3"></audio>
  <audio id="meow-o" src="https://cdn.pixabay.com/audio/2022/07/26/audio_12e59ca1dc.mp3"></audio>
  <audio id="win" src="https://cdn.pixabay.com/audio/2022/12/19/audio_12a3c97dc9.mp3"></audio>
  <audio id="draw" src="https://cdn.pixabay.com/audio/2022/08/20/audio_12fa19d014.mp3"></audio>
  <script>
    // Cute cat emoji for X and O
    const CAT_X = 'ðŸ˜º';
    const CAT_O = 'ðŸ˜»';
    const cats = [CAT_X, CAT_O];

    const statusDiv = document.getElementById('status');
    const cells = document.querySelectorAll('.cell');
    const resetBtn = document.getElementById('reset-btn');
    const sfx_x = document.getElementById('meow-x');
    const sfx_o = document.getElementById('meow-o');
    const sfx_win = document.getElementById('win');
    const sfx_draw = document.getElementById('draw');
    let board = Array(9).fill('');
    let currentPlayer = 0; // 0 - CAT_X, 1 - CAT_O
    let gameActive = true;

    // For accessibility: mark winning cells
    function markWin(line){
      line.forEach(i => cells[i].classList.add('win'));
    }

    function playSound(type){
      // Always reset audio time
      switch(type){
        case CAT_X: sfx_x.currentTime = 0; sfx_x.play(); break;
        case CAT_O: sfx_o.currentTime = 0; sfx_o.play(); break;
        case 'win': sfx_win.currentTime = 0; sfx_win.play(); break;
        case 'draw': sfx_draw.currentTime = 0; sfx_draw.play(); break;
      }
    }

    function checkWinner(){
      const wins = [
        [0,1,2],[3,4,5],[6,7,8],
        [0,3,6],[1,4,7],[2,5,8],
        [0,4,8],[2,4,6]
      ];
      for(const line of wins){
        const [a,b,c] = line;
        if(board[a] && board[a] === board[b] && board[a] === board[c]){
          return {winner: board[a], line};
        }
      }
      if(board.every(cell => cell)) return {winner: 'draw'};
      return null;
    }

    function updateStatus(msg){
      statusDiv.textContent = msg;
    }

    function handleCellClick(e){
      const idx = +e.target.dataset.index;
      if(!gameActive || board[idx]) return;
      board[idx] = cats[currentPlayer];
      e.target.textContent = cats[currentPlayer];
      playSound(cats[currentPlayer]);

      const result = checkWinner();
      if(result){
        gameActive = false;
        if(result.winner === 'draw'){
          updateStatus("ðŸ˜¸ It's a purrfect draw! Try again!");
          playSound('draw');
        } else {
          markWin(result.line);
          updateStatus(`ðŸŽ‰ Pawsome! ${result.winner} wins!`);
          playSound('win');
        }
      } else {
        currentPlayer = 1 - currentPlayer;
        updateStatus(`It's ${cats[currentPlayer]}'s turn to paw!`);
      }
    }

    function resetGame(){
      board = Array(9).fill('');
      currentPlayer = 0;
      gameActive = true;
      cells.forEach(c => { c.textContent=''; c.classList.remove('win'); });
      updateStatus("ðŸ˜º Cat X goes first!");
    }

    // Event listeners
    cells.forEach(cell => cell.addEventListener('click', handleCellClick));
    resetBtn.addEventListener('click', resetGame);

    // Make sound work after first human interaction (some browsers will not play audio until user interacts)
    document.body.addEventListener('mousedown', ()=>{}, {once:true});
  </script>
</body>
</html>
